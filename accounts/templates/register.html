<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro</title>
</head>

<body>

    <form action="{% url 'register' %}" method="POST"> {% csrf_token %}

        <input type="text" placeholder="Username" name="username" required>
        <br>
        <br>
        <input type="text" placeholder="Name" name="full_name" required>
        <br>
        <br>
        <input type="email" placeholder="E-mail" name="email" required>
        <br>
        <br>
        <input type="tel" placeholder="(99)99999-9999" name="phone" oninput="mascaraTelefone(event)" required>
        <br>
        <br>
        <input type="password" id="password" placeholder="Password" name="password" maxlength="32" autocomplete="off"
            required>
        <br>
        <br>
        <input type="password" id="password_confirm" placeholder="Confirm Password" name="password_confirm"
            maxlength="32" autocomplete="off" required>
        <br>
        <br>
        <input type="submit" value="Register" onclick="return validarSenha()">

    </form>
    <script>
        // Função para aplicar a máscara ao número de telefone
        function mascaraTelefone(event) {
            const input = event.target;
            const value = input.value.replace(/\D/g, '');
            // input.value = input.value.replace(/[^0-9!@#$%^&*()-_+=]/g, '');KL
            if (value.length <= 10) {
                input.value = value.replace(/(\d{2})(\d{0,5})(\d{0,4})/, '($1) $2-$3');
            } else {
                input.value = value.replace(/(\d{2})(\d{0,5})(\d{0,4})/, '($1) $2-$3').substring(0, 15);
            }
        }
        // Fim da Função  telefone

        // validar senha em duas etapas
        function validarSenha() {
            var password = document.getElementById("password").value;
            var password_confirm = document.getElementById("password_confirm").value;

            if (password !== password_confirm) {
                alert("As senhas não coincidem.");
                return false; // Impede o envio do formulário
            }

            return true; // Permite o envio do formulário se as senhas coincidirem
        }


    </script>

</body>

</html>